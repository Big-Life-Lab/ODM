# Changelog

## 2025-01-17

**v2.1**
See accompanying "2.0-to-2.1-changelog.xlsx" table for additional details.

- **Schema changes**
 
  **Removed tables**
  - None
 
  **Added tables**
  - The `countries` table is added as a reference table, pre-populated with the ISO codes and some supporting metadata for all countries/sovereign nations. These codes are used to standardize inputs for the 'country' field in the `addresses` table.
  - The `zones` table was added as a reference table, pre-populated with the ISO codes and some supporting metadata for all the recognized sub-national regions (i.e. provinces, territories, states) of countries in the `countries` table. These codes are used to standardize inputs for the 'stateProvReg' field in the `addresses` table.

  **Removed Columns in `parts`**
  - None.
  
  **Added Columns in `parts`**
  - The `countries` column was added to mark which parts are headers or keys in the `countries` table.
  - The `countriesOrder` column was added to define the order of the headers or keys in the `countries` table.
  - The `countriesRequired` column was added to define which headers or keys of the `countries` table are mandatory, optional, or recommended.
  - The `zones` column was added to mark which parts are headers or keys in the `zones` table.
  - The `zonesOrder` column was added to define the order of the headers or keys in the `zones` table.
  - The `zonesRequired` column was added to define which headers or keys of the `zones` table are mandatory, optional, or recommended.

  **Removed variables**
  - No variables or fields were depreciated in this update or removed from the schema.

  **Added variables (parts table)**
  - The part `adv40` was added to capture adenovirus type 40 measures.
  - The part `adv41` was added to capture adenovirus type 41 measures.
  - The part `amr` was added to capture anti-microbial resistance measures.
  - The part `camp` was added to capture campylobacter measures.
  - The part `capitalEndonym` was added to capture capital city metadata for the `countries` table.
  - The part `capitalExonym` was added to capture capital city metadata for the `countries` table.
  - The part `cAuris` was added to capture candida auris measures.
  - The part `cbp` was added to capture measures of carbapenemase-encoding genes.
  - The part `colis` was added to capture measures of colistin resistance.
  - The part `countries` was added to capture the new countries column as a part.
  - The part `countriesOrder` was added to capture the new countriesOrder column as a part.
  - The part `countriesRequired` was added to capture the new countriesRequired column as a part.
  - The part `countryEndonym` was added to capture country name metadata for the `countries` table.
  - The part `countryExonym` was added to capture country name metadata for the `countries` table.
  - The part `esbl` was added to capture measures of ESBL-encoding genes.
  - The part `fluA` was added to capture influenza A measures.
  - The part `isoCode` was added to capture the ISO code information for countries.
  - The part `isoCodeX` was added to capture additional ISO code information for countries.
  - The part `isoZone` was added to capture the ISO code information for zones.
  - The part `langScript` was added to capture language metadata for countries.
  - The part `mpox` was added to capture MPox measures.
  - The part `nameOfficial` was added to capture name metadata for countries.
  - The part `naNomenclature` was added to capture situations where the nomenclature field in not applicable.
  - The part `noro` was added to capture measures of the norovirus.
  - The part `numCode` was added to capture ISO 3166-1 numeric country code for countries.
  - The part `phone` was added to capture country national phone prefixes for countries.
  - The part `rsvA` was added to capture measures of RSV type A.
  - The part `rsvB` was added to capture measures of RSV type B.
  - The part `sovereignty` was added to capture sovereignty information for countries.
  - The part `stec` was added to capture measures of shiga-toxin-producing Escheria coli (STEC).
  - The part `tld` was added to capture the country code top-level domain for countries.
  - The part `utc` was added to capture the time zone for countries.
  - The part `utcDST` was added to capture the time zone for countries during daylight savings.
  - The part `vanc` was added to capture measures of vancomycin resistance.
  - The part `zoneName` was added to capture name information for zones.
  - The part `zones` was added to capture the new zones column as a part.
  - The part `zonesOrder` was added to capture the new zonesOrder column as a part.
  - The part `zonesRequired` was added to capture the new zonesRequired column as a part.
    
  **Edited variables (parts table)**
  
| index            | self                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | other                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | partID              | partLabel                                          | partDesc                                                                                                                                    |
|:-----------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------|:---------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------|
| partInstr        | The default aggregation is `single`, which corresponds to a single measurement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The default aggregation is `single`, which corresponds to a single measurement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | aggregation         | Aggregation                                        | Statistical measures used to report a measure. Each aggregation has a corresponding value.                                                  |
| partInstr        | The default aggregation is `single`, which corresponds to a single measurement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The default aggregation is `single`, which corresponds to a single measurement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | aggregations        | Aggregations                                       | Statistical measures used to report a measure. Each measure reported as a number should be reported with an aggregation.                    |
| partInstr        | If all values in the aggregation is "TRUE" then the AND aggregation is also "TRUE". If all values in the aggregation is "FALSE" then the AND aggregation is also "TRUE".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | If all values in the aggregation is "TRUE" then the AND aggregation is also "TRUE". If all values in the aggregation is "FALSE" then the AND aggregation is also "TRUE".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | andBoo              | AND Boolean aggregation                            | "AND" aggreation.                                                                                                                           |
| minValue         | 1:01                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 1:1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | collNumPer          | Collection number and period                       | Composite collection number.period.                                                                                                         |
| partInstr        | This measure should only be used if there is no other SARS-CoV-2 measure. See groupID = sarsCov2. Use a note to describe the specific measure used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | This measure should only be used if there is no other SARS-CoV-2 measure. See groupID = sarsCov2. Use a note to describe the specific measure used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | cov2Me              | SARS-CoV-2 measure                                 | Measure the amount of SARS-CoV-2 virus.                                                                                                     |
| partInstr        | Depreciated in ODM version 2. The measure identication is now measureReportID with report dates as for any measure report.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Depreciated in ODM version 2. The measure identication is now measureReportID with report dates as for any measure report.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | cphDate             | Covid-19 population measurement date               | date of reporting for covid-19 measure.                                                                                                     |
| changes          | depreciated, measure identication is now found in partID = measureRepID, with date fields for any measure report.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | depreciated, measure identication is now found in partID = measureRepID, with date fields for any measure report.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | cphDate             | Covid-19 population measurement date               | date of reporting for covid-19 measure.                                                                                                     |
| partInstr        | Depreciated in ODM version 2. The measure identication is now measureReportID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Depreciated in ODM version 2. The measure identication is now measureReportID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | cphid               | Cphd ID                                            | Unique identifier for the table.                                                                                                            |
| partType         | measurements                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | units                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | ct                  | Cycle threshold or quantification cycle (Ct or Cq) | Cycle thresholds in a PCR assay.                                                                                                            |
| partsOrder       | 81.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 87.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | dataTypes           | Data types                                         | The data type for a part.                                                                                                                   |
| partInstr        | Sheets or tabs for the ODM Excel dictionary include: all ERD tables (look-up tables and data entry tables) and additional supportig tables.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Sheets or tabs for the ODM Excel dictionary include: all ERD tables (look-up tables and data entry tables) and additional supportig tables.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | dictionarySupport   | Additional dictionary sheets                       | Additional sheets for the Excel version of the ODM dictionary.                                                                              |
| partInstr        | For the value of a non-detected measure, report the actual value even if it is below the limit of detection. The flag here ensures that it's recorded as a non-detect regardless. In instances where the original data doesn't record a value, but only has the flag, please populate the value field with either a 0 if dealing with variant percentages, and a 1 for all other purposes to further indicate a null result.                                                                                                                                                                                                                                                                                                                                                                                                                                              | For the value of a non-detected measure, report the actual value even if it is below the limit of detection. The flag here ensures that it's recorded as a non-detect regardless. In instances where the original data doesn't record a value, but only has the flag, please populate the value field with either a 0 if dealing with variant percentages, and a 1 for all other purposes to further indicate a null result.                                                                                                                                                                                                                                                                                                                                                                                                                                              | flagND              | ND - Non-detect                                    | No amplification occurred in the reaction; non-detect.                                                                                      |
| partInstr        | If only an instantaneous flow measurement is available, it may be reported in units of million gallons per day.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | If only an instantaneous flow measurement is available, it may be reported in units of million gallons per day.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | floRate             | Flow rate                                          | Wastewater volumetric flow rate at the sample collection location over the 24-hr period during which the sample was collected.              |
| partInstr        | This measure should only be used if there is no other influenza virus measure. See groupID = virusMisc. Use a note to describe the specific measure used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | This measure should only be used if there is no other influenza virus measure. See groupID = virusMisc. Use a note to describe the specific measure used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | flu                 | Influenza virus measure                            | General influenza virus measure                                                                                                             |
| partInstr        | Use Organization ID to populate this field, and the organizations table to describe contact information and other details for the funding agency.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Use Organization ID to populate this field, and the organizations table to describe contact information and other details for the funding agency.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | funderID            | Funding agency ID                                  | The funding agency of the dataset.                                                                                                          |
| partInstr        | Used primary to group measurements and methods, this helps pare down the drop down list for a given measurement or                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Used primary to group measurements and methods, this helps pare down the drop down list for a given measurement or                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | groups              | Groups                                             | A collection of related measures.                                                                                                           |
| partInstr        | An other type of measurement instrument. Add description to  notes. See documentation for how to request new instruments added to the dictionary.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | An other type of measurement instrument. Add description to  notes. See documentation for how to request new instruments added to the dictionary.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | instrumentTypeOther | Other instrument                                   | Type of instrument other than those included in the PHES-ODM.                                                                               |
| partInstr        | Use lastEdited if an entry is updated. Leave lastEdited blank or 'NA' for the first entry. Updates can include additions or revisions of the entry for any reason. For example, a wastewater measure was repeated later with an improved method. You can revise the entry by updating the value and then adding the date the new measure was performed to 'lastEdited'.  To ensure data provenance, the best practice in this example is to generate a new entry with the same measureID as the original measureID. The original and new measures are kept in the database with a date in the 'lastEdited' field for the new entry but not the original one. Some databases may choose a delete-and-replace approach where the original entry is deleted and replaced by a new entry. In this approach, the 'lastEdited' field indicates the delete and replace occurred. | Use lastEdited if an entry is updated. Leave lastEdited blank or 'NA' for the first entry. Updates can include additions or revisions of the entry for any reason. For example, a wastewater measure was repeated later with an improved method. You can revise the entry by updating the value and then adding the date the new measure was performed to 'lastEdited'.  To ensure data provenance, the best practice in this example is to generate a new entry with the same measureID as the original measureID. The original and new measures are kept in the database with a date in the 'lastEdited' field for the new entry but not the original one. Some databases may choose a delete-and-replace approach where the original entry is deleted and replaced by a new entry. In this approach, the 'lastEdited' field indicates the delete and replace occurred. | lastEdited          | Last edited                                        | The date the entry was last updated.                                                                                                        |
| partInstr        | Any change to the part of list will result in a change in the lastUpdated field to the dictionary version where the update occurred.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Any change to the part of list will result in a change in the lastUpdated field to the dictionary version where the update occurred.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | lastUpdated         | Last updated version                               | The version in which the part was last updated.                                                                                             |
| partInstr        | Sheets or tabs for the ODM Excel dictionary include: all ERD tables (look-up tables and data entry tables) and additional supportig tables.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Sheets or tabs for the ODM Excel dictionary include: all ERD tables (look-up tables and data entry tables) and additional supportig tables.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | lists               | List worksheet                                     | Parts lists for template dropdowns and other documentation.                                                                                 |
| partInstr        | An measurement is recorded from a specimen (i.e. a site, sample, person or population). Measures are organized into groups and classes (sub-groups).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | An measurement is recorded from a specimen (i.e. a site, sample, person or population). Measures are organized into groups and classes (sub-groups).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | measure             | Measure                                            | A measurement or observation of any substance including a biological, physical or chemical substance.                                       |
| partsOrder       | 85.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 90.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | minLength           | Minimum length                                     | The maximum value of measure.                                                                                                               |
| partsOrder       | 82.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 88.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | minValue            | Minimum value part support                         | The minimum value of part.                                                                                                                  |
| partInstr        | Name of any entity. Use a prefix to distinguish names from different report tables. See fully specified name (FSN) list.  i.e. Si-name = Site name, Po-name = Polygon name, Or-name = Organization name, Me-name = Method-name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Name of any entity. Use a prefix to distinguish names from different report tables. See fully specified name (FSN) list.  i.e. Si-name = Site name, Po-name = Polygon name, Or-name = Organization name, Me-name = Method-name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | name                | Name                                               | Name of a domain, specimen, group, class, attribute, unit, nomeclature or other entity.                                                     |
| partInstr        | This field contains a link to an existing ontology reference for the part. ODM content spans several existing ontologies. ODM does not strive to generate a new ontology, rather ODM seeks to harmonize and extend dictionaries for application in environmental and public health surveillance.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | This field contains a link to an existing ontology reference for the part. ODM content spans several existing ontologies. ODM does not strive to generate a new ontology, rather ODM seeks to harmonize and extend dictionaries for application in environmental and public health surveillance.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ontologyRef         | Ontology reference                                 | Ontology reference for a part.                                                                                                              |
| partInstr        | There are six levels based on International Standard Classification of Administrative Units (ISCU).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | There are six levels based on International Standard Classification of Administrative Units (ISCU).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | orgLevel            | Organization level                                 | The geographic level of an organization.                                                                                                    |
| partInstr        | Populate this field using Protocol ID (partID = protocolID). Together with `protocolIDSub` or `stepIDSub` and `relationshipID`, the protocol relationship is defined as: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Populate this field using Protocol ID (partID = protocolID). Together with `protocolIDSub` or `stepIDSub` and `relationshipID`, the protocol relationship is defined as: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | protocolIDObj       | Protocol ID object                                 | The object of the relationship between one protocol and another protocol or step, within a given protocol ID container.                     |
| partInstr        | Populate this field using Protocol ID (partID = protocolID). Together with `protocolIDObj` or `stepIDObj` and `relationshipID` the row of `protocolRelationships` should say: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Populate this field using Protocol ID (partID = protocolID). Together with `protocolIDObj` or `stepIDObj` and `relationshipID` the row of `protocolRelationships` should say: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | protocolIDSub       | Protocol ID subject                                | The subject of the relationship between one protocol and another protocol or step, within a given protocol ID container.                    |
| partInstr        | Use for measurement that are not yet finalized. Typically this purpose is not publicly reported.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Use for measurement that are not yet finalized. Typically this purpose is not publicly reported.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | provisional         | Provisional report                                 | A provisional or interm report.                                                                                                             |
| partsOrder       | 80.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 86.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | refLink             | Reference link                                     | Link to the reference material for a part. May link to literature on a method, measure, etc.                                                |
| partInstr        | These tables are updated whenever a new sample is taken or a measure is reported. Quality reports are used to report quality assurance and quality control for samples and measures.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | These tables are updated whenever a new sample is taken or a measure is reported. Quality reports are used to report quality assurance and quality control for samples and measures.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | results             | Results tables                                     | Tables used to record samples, measures and quality reports.                                                                                |
| partInstr        | Depreciate in version 2. siteMeasures                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Depreciate in version 2. siteMeasures                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | siteMeasureID       | Site measure ID                                    | Unique identifier for wide table only. Use when all measures are performed on a single sample.                                              |
| partInstr        | The site of an eviromental sample. Information in the site table does not regularly change. Consider using the MeasureReport table if the infomation changes often.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | The site of an eviromental sample. Information in the site table does not regularly change. Consider using the MeasureReport table if the infomation changes often.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | sites               | Sites table                                        | The table that contains information about a site; the location where an environmental sample was taken.                                     |
| partInstr        | Specimen sets are used when a measure or attribute can be recorded for more than one specimen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Specimen sets are used when a measure or attribute can be recorded for more than one specimen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | specimenSets        | Specimen sets                                      | Sets of specimens.                                                                                                                          |
| partInstr        | Populate this field using Protocol Step ID (partID = stepID). Together with `protocolIDSub` or `stepIDSub` and `relationshipID` the row of `protocolRelationships` should say: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Populate this field using Protocol Step ID (partID = stepID). Together with `protocolIDSub` or `stepIDSub` and `relationshipID` the row of `protocolRelationships` should say: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | stepIDObj           | Step ID Object                                     | The object of the relationship between one protocol step and another step or protocol, within a given protocol ID container.                |
| partInstr        | Populate this field using Protocol ID (partID = stepID). Together with `protocolIDSub` or `stepIDSub` and `relationshipID` the row of `protocolRelationships` should say: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Populate this field using Protocol ID (partID = stepID). Together with `protocolIDSub` or `stepIDSub` and `relationshipID` the row of `protocolRelationships` should say: [protocolIDSubject or stepIDSubject]  [relationshipID] [protocolIDObject or stepIDObject]. Ex: stepIDSubject  precedes protocolIDObject.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | stepIDSub           | Step ID Subject                                    | The subject of the relationship between one protocol step and another step or protocol, within a given protocol ID container.               |
| partInstr        | See also categories for floor and desk.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | See also categories for floor and desk.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | surface             | Other surface                                      | Surface other than floor or desk.                                                                                                           |
| partInstr        | An example of a  table is `site` a collection of attributes such as site name and address to describe where environment samples are taken. PHES-ODM has report tables, but users can create their own tables as well.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | An example of a  table is `site` a collection of attributes such as site name and address to describe where environment samples are taken. PHES-ODM has report tables, but users can create their own tables as well.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | tables              | Tables                                             | Tables are where measures, methods and attributes are recorded. Tables represent the main entities of the environmental surveillance. There |
| domain           | phy                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | naDomain                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| specimenSet      | siSpecimenSet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | naSpecimenSet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| compartmentSet   | anyCompartmentSet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | naCompartmentSet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| group            | siteFeat                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | naGroup                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| class            | speed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | lookup                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| unitSet          | windSpeedUnitSet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | naUnitSet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| aggregationScale | seeUnitAggScale                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| qualityIndSet    | genQualitySet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| missingnessSet   | genMissingnessSet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| measures         | input                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| dataType         | seeUnitData                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | varchar                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| minValue         | seeUnitVal                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| maxValue         | seeUnitVal                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| minLength        | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 0.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| maxLength        | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 30.0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | wideNames           | Wide name table                                    | The table for wide names.                                                                                                                   |
| measures         | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | input                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | zymoQuick           | zymo quick-rna fungal/bacterial miniprep #r2014    | Nucleic acid extraction performed using the zymo quick-rna fungal/bacterial miniprep #r2014 kit.                                            |
| parts            | input                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | nan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | zymoQuick           | zymo quick-rna fungal/bacterial miniprep #r2014    | Nucleic acid extraction performed using the zymo quick-rna fungal/bacterial miniprep #r2014 kit.                                            |

  **Additions to the Sets Table**
  - The part `countries` was added to the sets with the setIDs of: `dictionaryRefTableSet`, `erdTableSet`, and `fullDictionarySheetSet`.
  - The part `zones` was added to the sets with the setIDs of: `dictionaryRefTableSet`, `erdTableSet`, and `fullDictionarySheetSet`.

## 2021-09-15

**v2.0**

Addresses issues: [#172](https://github.com/Big-Life-Lab/ODM/issues/172), [#120](https://github.com/Big-Life-Lab/ODM/issues/120)

- **Schema changes**

  **Removed tables**
  - The `WWMeasure`, `SiteMeasure`and `CovidPublicHealthData`tables are . The values they contained are migrating to the new `Value`table (see below).

  **Added tables**
  - The `Value` table is added to store values stemming from a `measure`s.
  - The `Measure` table store metadata that fully classify and define a measurement type. This new table is supported by satellite tables that carry further information about the classification of measure and its properties:
    - The `Domain` table stores domain classifications for measures (Biological chemical, physical)
    - The `Specimen` table defines all possible `measure` to parent system relationships (measure in wastewater sample, measure from site, measure from polygon, etc.)
    - The `MeasureGroup` lists names given to groups of measure related to a common substance of interest (e.g., covid-19).
    - The `MeasureClass` list types of measures performed via similar protocols (e.g., allele counts, or nitrogen concentration).
    - The `Units` table stores all possible units used to report measurement values.
    - The `Scale` table stores the different cardinalities that can be assigned to units (quantitative, qualitative, etc.)
    - The `Aggregation` table stores the different types of aggregations that could be applied to a measurement before reporting. 
  - The `Assay` table describes unique experimental procedures that yield measure values.

  - The many-to-many relationship tables `AssayHasInstrument`, `MeasureClassHasUnits`, and `UnitHasAggregtation` have also been added.

  **Removed variables**
  
  The following variables were removed from the schema. Users are encourages to store default values in a configuration file
  - `Sample` Table
    - `sampleTypeOtherDefault`
    - `sampleCollectionDefault`
    - `sampleCollectOtherDefault`
    - `sampleStorageTempCDefault`
    - `measureFractionAnalyzedDefault`
  - `Reporter` Table
    - `siteIDDefault`
    - `labIDDefault
  - `Lab` Table
    - assayMethodIDDefault

  

## 2021-08-09 (update this date when merging to main)

\*\*v1....

**Variable changes (non-breaking changes)**

- `index`: Change type from integer to string. Allows greter flexiblity for naming indexes.


## 2021-02-18

**v1.1.0**

Addresses issues: #59, #84, #90, #92, #93, #96, #97, #99, #101, #102, #103, #104, #106, #112, #113, #114, #116.

- **Variable name changes (breaking changes :bangbang:)**

  - `extractionVolMl`: Change from `sampleSizeL`. Description of the variable was also changed.
  - `sampleTypeDefault`: Change from `SampleTypeDefault`. Now consistent use of lowercase first letter.
  - `sampleTypeOtherDefault`: Change from `SampleTypeOtherDefault`.
  - `sampleCollectionDefault`: Change from `SampleCollectionDefault`.
  - `sampleCollectOtherDefault`: Change from `SampleCollectOtherDefault`.
  - `sampleStorageTempCDefault`: Change from `SampleStorageTempCDefault`.
  - `measureFractionAnalyzedDefault`: Change from `MeasureFractionAnalyzedDefault`.

- **New variables**

- Reporter

  - `organization`: Organization of reporter. Issue [#97](https://github.com/Big-Life-Lab/covid-19-wastewater/issues/97)

- Sample

  - `reporterID`: Reporter ID. Currently, reporterID is `WWmeasure` table but reporter for samples can be different. Issue [#93](https://github.com/Big-Life-Lab/covid-19-wastewater/issues/93)
  - `index`: Index number in case the sample was taken multiple times. Issue [#103](https://github.com/Big-Life-Lab/covid-19-wastewater/issues/103)
  - `InstrumentID`: Links with the Instrument table to describe the instrument used for sampling. Issue [#104](https://github.com/Big-Life-Lab/covid-19-wastewater/issues/104)

- Site

  - `publicHealthDepartment`: Public health department or region. The public health department or region where the site or institute is located. See also `healthRegion` if there is a separate regional health care delivery authority. Issue [#116](https://github.com/Big-Life-Lab/covid-19-wastewater/issues/116)
  - `healthRegion`: Health planning region. The health planning authority where is site or insititute is located. See also `publicHealthDepartment`. Issue [#116](https://github.com/Big-Life-Lab/covid-19-wastewater/issues/116)

- SiteMeasure
  - `SampleID`: Makes sure that samples can easily be linked back to the site measurements, without the need for comparing dates. In case that multiple samples need to be linked to the same site measurement, create a comma separated list of sample IDs.
- **Deleted variable categories (breaking changes :bangbang:)**

  - `SiteMeasure` table, `aggregation` variable, all of the options that included normalization
    - `sdNr`,"Standard deviation, normalized",L'�cart type normalis�
    - `geoMnNr`,"Geometric mean, normalized",Moyenne g�om�trique normalis�e.
    - `meanNr`,"Arithmetic mean, normalized",Moyenne arithm�tique normalis�e.

- **New variable categories**

  - Categories added to allow variant reporting. See `WWMeasure` table, `type` variable:

    - `varB117`: Variant B.1.1.7
    - `varB1351`: Variant B.1.351
    - `varP1`: Variant P.1

  - Updated description of `WWMeasure` table, `unit` measure. These descriptions now reference gene or variant copies.
  - New `detected`: Gene copies or variant detected in the sampleGene or variant copies. Detected = 1. Gene or variant copiesNot detected = 0.
  - New `propVar`: Proportion of variant in sample.
  - `SiteMeasure` table, `type` variable
    - `wwBOD5t`, 5 day total biochemical oxygen demand
    - `wwBOD5c`, 5 day carbonaceous biochemical oxygen demand
    - `wwPtot`, Total phosphates
    - `wwPP`, Total phosphorous
    - ,
  - New `dailyAvg`: Average value taken over a 24h period, in the `SiteMeasure` table, `aggregation` variable
  - The `SiteMeasure` table now has a categorical `unit` variable with the following options

    - `°C`, Degrees Celcius
    - `mm`, Millimeters
    - `m3/h`, Cubic meters per hour
    - `m3/d`, Cubic meters per day
    - `mg/L`, Milligrams per liter
    - `pH`, pH units
    - `uS/cm`, Micro-siemens per centimeter

- **Migrate .md files for tables**

  - Variable and variable categories to CSV files. Please modify the appropriate CSV file for future updates. `metadata.md` is now automatically generated from the CSV files.

    - `Tables.csv`: list of tables.
    - `Variables.csv`: list of variables.
    - `VariableCategories`: list of categories for variables.

- **Other**
  - Missing values for the `value` field in the different tables should be reported using the following notation 'NA', and ideally follow with a note that explains why the value is missing. An example: Every day a daily average flow measurement is generated, yet because of fouling the instrument stopped functioning for one day which makes that this data is missing.
  - SQL template updated to reflect v1.1.0 (and also v1.0.0). These files are now automatically generated from the metadata tables (above). The SQL tables are in SQLite format.
  - Several small grammatical errors corrected in the English variable descriptions.

## 2021-02-15

Metadata migrated to:

- `Tables.csv`: List of all tables.
- `Variables.csv`: List of all variables.
- `VariableCategory.csv`: List of all cteogies within variables.

Modify these tables for future additions and changes. `metadata.md` is automatically generated from `metadata_template.md`.

## 2021-01-26

**v1.0.0 - Many additions and breaking changes. This version is recommended for widespread use.**

- Naming conventions were further developed. Category names shortened to 7 digits to allow wide variable names up to 31 characters.

- Three NEW tables

  - [SiteMeasure](metadata.md#sitemeasure): The site of wastewater sampling, including several defaults that can be used to populate new samples upon creation. SiteMeasure complements the [WWMeasure](metadata.md#wwmeasure) table. It includes measures that are commonly collected by staff at wastewater treatment facilities and field sample locations. Whereas WWMeasure includes measures that are commonly generated by wastewater testing laboratories.
  - [Inststrument](metadata.md#instrument): Instruments that are used for measurements in SiteMeasure and WWMeasure. Note that the assay method itself for viral measurement is described in [AssayMethod](metadata.md#assaymethod).
  - [Lookup](metadata.md#lookup): Reference for categorical variables.

- Names of variables were updated according to the extended naming conventions. Note that these changes are NOT listed here!

- Examples are provided on how to generate wide and long variables and category names.

- Information on how to collaborate is updated.

- Measurement metadata

  - `aggregation` - Following the existing options, one more option was added to the list `geoMeanNormal`.

- [SiteMeasure](metadata.md#sitemeasure) variables:

  - `ID`: (NEW) Unique identifier for each contextual measurement.
  - `SiteID`: (NEW) Links with the Site table to describe the location of measurement.
  - `dateTime`: (NEW) The date and time the measurement was performed.
  - `type`: (NEW) The type of measurement that was performed.
  - `typeOther`: (NEW) Description of the measurement in case it is not listed in type.
  - `typeDescription`: (NEW) Additional information on the performed measurement.
  - `name`: (NEW) Name of the instrument used to perform the measurement.
  - `type`: (NEW) Type of instrument used to perform the measurement.
  - `typeOther`: (NEW) Description of the instrument in case it is not listed in instrumentType.
  - `aggregation`: (NEW) When reporting an aggregate measurement, this field describes the method used.
  - `aggregationOther`: (NEW) Description for other type of aggregation not listed in aggregation.
  - `aggregationDescription`: (NEW) Information on OR reference to which measurements that were included to calculate the aggregated measurement that is being reported.
  - `value`: (NEW) The actual value that is being reported for this measurement.
  - `unit`: (NEW) The engineering unit of the measurement.
  - `qualityFlag`: (NEW) Does the reporter suspect quality issues with the value of this measurement? (Boolean)
  - `notes`: (NEW) Any additional notes.

- [Sample](metadata.md#sample) variables

  - `samplingTempC`: (NEW) Temperature that the sample is stored at while it is being sampled. This field is mainly relevant for composite samples which are either kept at ambient temperature or refrigerated while being sampled.
  - `mailedOnIce`: (NEW) Was the sample kept cool while being sent to the lab? (Boolean)
  - `category` - A distinction is now made between SARS-CoV-2 gene measurements `covid` and the measurement of water quality parameters on the sample `wq`.

- [Site](metadata.md#site) variables

  - `type` - Additional site types were added `airplane`, `correctionalFacility`, `elementarySchool`, `hospital`, `longTermCareFacility`, `sewageTruck`, `universityCampus`, `WWTP`
  - `accessType`: (NEW) Access point of where the sample was collected at the site.
  - `measurement.fractionAnalyzedDefault`: (NEW) Used as default when a new measurement is created for this site. See `fractionAnalyzed` in `Measurement` table.

- [AssayMethod](metadata.md#assaymethod): New variables were introduced to replace `assayDesc`, those are

  - `methodConcentration`: (NEW) Description of the method used to concentrate the sample
  - `methodExtraction`: (NEW) Description of the method used to extract the sample
  - `methodPcr`: (NEW) Description of the PCR method used
  - `qualityAssuranceQC`: (NEW) Description of the quality control steps taken
  - `inhibition`: (NEW) Description of the inhibition parameters.
  - `surrogateRecovery`: (NEW) Description of the surrogate recovery for this method.
  - `description`: (NEW) Description of the assay.
  - `referenceLink`: (NEW) Link to standard operating procedure (assay reference method)

- [CovidPublicHealthData](metadata.md#covidpublichealthdata)

  - `valueType`: (NEW) A categorical variable that replaces the individual variables, instead it provides listed options: `confirmed`, `active`, `tests`, `positiveTests`, `percentPositivityRate`, `hospitalCensus`, `hospitalAdmit`.

## 2021-01-08

- All variable names were updated according to the name convention.

## 2020-11-25

- Change date formatting on `wastewater_virus.csv` to YYYY-MM-DD.

## 2020-11-25

**v0.1.1 - Additions to metadata. No breaking changes.**

- Measurement metadata

  - Add categories `measurementType`:

    - `geoMean`: GeoMean of results
    - `rangeLowestValue`: Lowest value in a range of values
    - `rangeHighestValue`: Highest value in a range of values
    - `singleton`: This value is not an aggregate measurement in any way, and thus is not a `mean`, `median`, `geomean` or other

  - Add `measureValueDetected`: Boolean Value if True then covid-19 was detected.

  - Add `reportDate`: Note use of `reportDate` when historic results are updated for new reporting standards.

- AssayMethod metadata

  - Add `sampleSizeL`: Size of the sample that is analysed in liters
  - Add `loq`: Limit of Quantification for this method if one exists
  - Add `lod`: Limit of detection for this method if one exists
  - Add `inhibition`: Text decription of the inhibition
  - Add `surrogateRecovery`: Text description of the Surrogate Recovery for this method

- Other small corrections to metadata category labels.

- CovidPublicHealthData

  - `dateType`: Type of date used.

- Updated `wastewater_virus.csv` to reflect metadata v0.1.1.

## 2020-11-17

v0.1.0 - Breaking changes to metadata.

- Assay method database added.
- Change test results to be represented as key:values. Each test result has a measurement type (`measureType`) with a corresponding value (`measureValue`). For example a measureType is `mean` and the corresponding `measureValue` has the mean value.

## 2020-11-16

- `wastewater_virus.csv` dataset updated to remove adjustment for percent viral recovery from solids. The adjustment allign reporting with other laboratories. The adjustment reduces N1 and N2 values a maginitude of 10 (approximately).

## 2020-10-29

- Replace invalid values (such as \#DIV/0) with `NA`.

## 2020-10-27

V0.0.2 - Breaking changes to metadata.

- Change `locationID` to `siteID`.
- Change `locationName` to `siteName`.

## 2020-10-16

- All Ottawa data points prior to Oct 2nd have been slightly modified to normalize data for a new centrifuge that is being used to collect wastewater samples at the Ottawa site.

## 2020-10-09

V0.0.1 - Initial variable names and labels.
